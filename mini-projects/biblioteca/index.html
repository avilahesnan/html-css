<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <title>Biblioteca</title>
</head>
<body>
    <nav class="navbar navbar-expand-md bg-dark navbar-dark fixed-top">
        <a class="navbar-brand" href="index.html">
            <i class="fa fa-book"></i>
            Biblioteca
        </a>
        <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div id="navbarCollapse" class="navbar-collapse collapse">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="meus-emprestimos.html">Meus Empréstimos</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#">Pesquisar Livros</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="programacao.html">Programação</a>
                        <a class="dropdown-item" href="arte-grafica.html">Arte Gráfica</a>
                        <a class="dropdown-item" href="musica.html">Música</a>
                    </div>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="#">
                        <i class="fa fa-envelope"></i>
                        Notificações
                        <i class="badge bg-secondary">4</i>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="row">
        <main class="col-md-9">

            <p>Seja bem-vindo à nossa biblioteca!</p>
    
            <a href="https://facebook.com/biblioteca">
                <i class="fa-brands fa-square-facebook"></i>
                Biblioteca
            </a>
    
            <img class="img-thumbnail" src="https://trecobox.com.br/wp-content/uploads/2022/09/Todos-os-personagens-de-O-Senhor-dos-Aneis-em-Os-Aneis-de-Poder.jpg">
    
            <div class="row">
                <div class="bg-light border-gray color-black col-12 col-md-4">
                    O Senhor dos Anéis 1 - A Sociedade do Anel
                    <button type="button" class="btn btn-primary" onmousedown="prepararJanela('O Senhor dos Anéis 1 - A Sociedade do Anel', 'https://www.youtube.com/embed/znzi5_kCEtU')"
                    data-bs-toggle="modal" data-bs-target="#janelaModal">
                        Abrir Janela
                    </button>
                </div>
        
                <div class="bg-light border-gray color-black col-12 col-md-4">
                    O Senhor dos Anéis 2 - As Duas Torres
                    <button type="button" class="btn btn-primary" onmousedown="prepararJanela('O Senhor dos Anéis 2 - As Duas Torres', 'https://www.youtube.com/embed/nmbsFeJ5EA0')"
                    data-bs-toggle="modal" data-bs-target="#janelaModal">
                        Abrir Janela
                    </button>
                </div>
        
                <div class="bg-light border-gray color-black col-12 col-md-4">
                    O Senhor dos Anéis 3 - O Retorno do Rei
                    <button type="button" class="btn btn-primary" onmousedown="prepararJanela('O Senhor dos Anéis 3 - O Retorno do Rei', 'https://www.youtube.com/embed/CaimcEcFuMg')"
                    data-bs-toggle="modal" data-bs-target="#janelaModal">
                        Abrir Janela
                    </button>
                </div>
            </div>
        
        </main>
    
        <aside class="col-md-3">
            <div class="card">
                <div class="card-header">
                    <h3>Livros Favoritos</h3>
                </div>
                <div id="divFavoritos"></div>
            </div>
        </aside>
    </div>

    <div class="modal fade" id="janelaModal">
        <div class="modal-dialog modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="tituloJanela">Título da janela</h4>
                <button type="button" class="close" 
                data-bs-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <iframe id="iframeJanela" width="460" height="360" src="https://www.youtube.com/embed/znzi5_kCEtU" title="O Senhor Dos Anéis Dublado - A Sociedade Do Anel" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <div class="div-chat d-none">
        <textarea class="w-100"></textarea>
        <br>
        <button class="btn btn-primary w-100">Enviar</button>
    </div>

    <div class="btn-suporte">
        <i class="fa-solid fa-comment fa-beat"></i>
    </div>
    <footer class="container-fluid">
        <p>
            &copy;<a href="https://github.com/avilahesnan"><i class="fa-brands fa-github fa-bounce"></i>Hesnan Ávila</a>
            2023
        </p>
    </footer>

    <script src='js/popper.js'></script>
    <script src='js/bootstrap.js'></script>
    <script src='js/jquery-3.7.1.js'></script>
    
    <script>
       function aleatorio(N) {
            return Math.round(Math.random()*N);
        }

        function prepararJanela(titulo, url) {
            tituloJanela.innerHTML = titulo;
            iframeJanela.src = url;
            $("#janelaModal").css("background-color", 
            `rgba(${aleatorio(255)}, ${aleatorio(255)}, ${aleatorio(255)}, 0.5)`);
        }

        function excluirFavorito(btn) {
            $(btn).parent().remove();
        }

        function carregarFavoritos() {
            $("#divFavoritos").append("<p><button onclick='excluirFavorito(this)'>Excluir</button>Crônicas de Nárnia</p>");
            $("#divFavoritos").append("<p><button onclick='excluirFavorito(this)'>Excluir</button>Marketing 4.0</p>");
            $("#divFavoritos").append("<p><button onclick='excluirFavorito(this)'>Excluir</button>Uma Breve História sobre o Tempo</p>");
            $("#divFavoritos").append("<p><button onclick='excluirFavorito(this)'>Excluir</button>A Hora da Estrela</p>");
        }

        //Código que executa após o carregamento da página
        $(() => {
            //$("footer").hide();
            carregarFavoritos();

            $(".btn-suporte").click(() => {
                $(".div-chat").toggleClass("d-none");
            });
        });
    </script>
</body>
</html>